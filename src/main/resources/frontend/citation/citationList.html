
<ng-form name="searchForm">
    <div class="table-responsive form-search" id="searchTable">

        <div class="row">
            <div class="col-md-6 form-group">
                <label for="fName" class="control-label">First Name</label>
                <input placeholder="Enter first name" ng-model="search.fName" id="fName" name="fName" type="text" class="form-control" >
            </div>

            <div class="col-md-6 form-group">
                <label for="lName" class="control-label">Last Name</label>
                <input placeholder="Enter last name" ng-model="search.lName" id="lName" name="lName" type="text" class="form-control" >
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 form-group">
                <label class="control-label">Date of Birth</label>
                <input class="form-control form-date" ng-model="search.start_date" type="text" datepicker-popup="MM-dd-yyyy" min-date="minDate" maxDate="max-date" is-open="$parent.opened1" show-weeks="false"/>
                <button class="btn btn-cal" ng-click="pickDate($event,'opened1')">
                    <span class="glyphicon glyphicon-calendar"></span>
                </button>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 form-group">
                <label class="control-label">Driver's License Number</label>
                <input ng-model="search.dl_number" name="dl_number" type="text" class="form-control" placeholder="Enter Driver's License Number">
            </div>
            <div class="col-md-6 form-group">
                <label class="control-label">Citation Number</label>
                <input ng-model="search.citation_number" name="citation_number" type="text" class="form-control" placeholder="Enter Citation Number">
            </div>
        </div>

        <div class="row">
            <div class="col-md-5 buttons" align="left">
                <button ng-click="transactionsCtrl.search(search)" type="button" class="btn btn-primary btn-search" id="search">Search</button>
            </div>
        </div>

    </div>
</ng-form>
<ng-form>
    <!--
    <div class="alert alert-danger" role="alert"
         ng-show="searchResult=='error'" id="searchdeclined">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        No citations found - please check search options and try again.
    </div>
    -->
    <div>
        <button ng-show="citationListCtrl.citations.length>0" type="button" ng-click="citationListCtrl.goToPayment()" class="btn btn-default">Pay Selected Citations</button>

        <table class="table table-search" id="citationsTable">
            <thead>
            <tr>
                <th></th>
                <th>Name</th>
                <th>Address</th>
                <th>DOB</th>
                <th>Driver's License</th>
                <th>Citation #</th>
                <th>Citation Date</th>
                <th>Municipality</th>
                <th>Court Date</th>
                <th>Court Address</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="row in citationListCtrl.citations">
                <td></td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.fName}} {{row.lName}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.address}}<br>{{row.city}}, {{row.state}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.dateOfBirth}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.driversLicense}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.citationNumber}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.municipality}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.citationDate}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.courtDate}}</td>
                <td ng-click="citationListCtrl.rowDetail(row,'citationDetail')" >{{row.courtAddress}}</td>
                <td class="actions" ng-class="{'no-button': !row.buttons.button[0]}">
                    <div class="btn-group" dropdown>
                        <button   ng-if="row.buttons.button[0]" type="button" ng-click="citationsListCtrl.executeButton(row, row.buttons.button[0].url)" class="btn btn-default">Pay</button>
                    </div>

                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!--
    <div class="alert alert-warning" role="alert" ng-show="searchResult=='empty'">
        <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>Please wait - searching for citations . . .
    </div>
    -->
</ng-form>